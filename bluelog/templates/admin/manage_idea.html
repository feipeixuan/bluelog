{% extends 'base.html' %}
{% from 'bootstrap/pagination.html' import render_pagination %}

{% block title %}Manage Ideas{% endblock %}

{% block content %}
    <div class="page-header">
        <h1>Posts
            <small class="text-muted">{{ pagination.total }}</small>
        </h1>
    </div>
    {% if posts %}
        <table class="table table-striped">
            <thead>
            <tr>
                <th>发布时间.</th>
                <th>进度</th>
                <th>想法</th>
                <th>完成时间</th>
            </tr>
            </thead>
            {% for idea in ideas %}
                <tr>
                    <td>{{ moment(idea.add_time).format('YYYY年M月D日, h:mm ') }}</td>
                    <td>
                        <div class="progress">
                            <div class="progress-bar" style="width:40%;" role="progressbar" aria-valuenow="40"
                                 aria-valuemin="0" aria-valuemax="100">40%
                            </div>
                        </div>
                    </td>
                    <td>{{ idea.content }}</td>
                    <td>
                        {% if not idea.solve_time  %}
                            {{ moment(idea.solve_time).format('YYYY年M月D日, h:mm ') }}
                        {% else %}
                            <p>暂时未完成</p>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </table>
        <div class="page-footer">{{ render_pagination(pagination) }}</div>
    {% else %}
        <div class="tip"><h5>No posts.</h5></div>
    {% endif %}
{% endblock %}